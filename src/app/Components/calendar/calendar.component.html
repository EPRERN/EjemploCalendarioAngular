  <div class="page">
    <div class="calendar-container">

      <!-- header -->
      <div class="date-info">
        <!-- navigation months/years/days -->
        <a (click)="selectPanel()" class="show-months-years">{{ calendarMonthYear }}</a>

        <div class="month-displace">
          <a (click)="prevDatePanel()" mat-mini-fab>
            <mat-icon>expand_less</mat-icon>
          </a>
          <a (click)="nextDatePanel()" mat-mini-fab>
            <mat-icon>expand_more</mat-icon>
          </a>
        </div>
      </div>

      <!-- days, months, years select -->
      <div class="calendar">
        <div id="daysPanel" *ngIf="panelSelected === panelsType.Days && !reloadChildComponent" class="zoomIn">
          <app-days 
            [date]="selectedDate" 
            [dayNames]="languageModel.shortDayNames"
            [events]="events"
            (selectedDay)="setSelectedDate($event)">
          </app-days>
        </div>

        <div id="monthsPanel" *ngIf="panelSelected === panelsType.Months && !reloadChildComponent" class="zoomIn">
          <app-months 
            [date]="selectedDate" 
            [monthsNames]="languageModel.shortMonthsNames"
            (monthSelected)="monthHandler($event)">
          </app-months>
        </div>

        <div id="yearsPanel" *ngIf="panelSelected === panelsType.Years && !reloadChildComponent" class="zoomIn">
          <app-years 
            [year]="year" 
            (yearSelected)="yearHandler($event)">
          </app-years>
        </div>
      </div>

      <!-- goto selectors -->
      <div class="goto-date-container">
        <form (submit)="goToDate()">
          <mat-form-field appearance="outline">
            <mat-label>{{languageModel.pageElementsTexts[elementsKeys.DatePlaceHolderFormat]}}</mat-label>
            <input id="dateToGo" [formControl]="dateForm" matInput (keyup)="onInputChange($event)" />
            <mat-error *ngIf="dateForm.invalid">{{ errorDate }}</mat-error>

            <button type="submit" (click)="goToDate()" form="dateForm" [disabled]="isBtnGoToDateDisabled" class="goto-btn"
              matSuffix mat-raised-button aria-label="go to a date">
              <mat-icon>schedule_send</mat-icon>
            </button>
          </mat-form-field>
        </form>
        <a (click)="goToday()" style="background-color: rgb(56, 111, 162);" class="goto-today-btn" mat-raised-button aria-label="go today">
          {{languageModel.pageElementsTexts[elementsKeys.BtnGoToday]}}
        </a>
      </div>

      <hr class="separator" />

      <!-- show or hide events -->
      <div class="footer">
        <div>
          <button (click)="openAddEventDialog()" id="btnAddEvent" class="new-event-btn" mat-mini-fab
            aria-label="Nuevo evento">
            <mat-icon>add_circle_outline</mat-icon>
          </button>
        </div>

        <a class="btn-events" (click)="showHideEvents()">
          <span>{{btnEventsText}}</span>
          <mat-icon id="iconEvent" class="iconChev">chevron_right</mat-icon>
        </a>
      </div>
    </div>
    
    <div id="events" class="events-container">
      <div class="events-header">
        <span class="dayName">{{ fullDayName }}</span>
        <span class="date-format">{{ selectedDate.getDate() }} {{ languageModel.fullMonthsNames[month] }} {{ year }}</span>
      </div>
      <ng-container *ngIf="eventsOfTheDay.length > 0">
        <div class="events-body">
          <!-- Aquí se muestra cada evento -->
          <app-event-tag 
            [events]="eventsOfTheDay" 
            [selectedDate]="selectedDate" 
            [language]="langSelected" 
            (reloadCalendar)="reloadComponent()">
          </app-event-tag>
        </div>
      </ng-container>
      <ng-container *ngIf="eventsOfTheDay.length === 0">
        <div class="no-events-message">
          No hay eventos para este día.
        </div>
      </ng-container>
      <br><h1> </h1><br>
      <div class="events-footer">
        <!-- <button 
          (click)="deleteAllDialog()" 
          class="delete-all-btn" 
          mat-stroked-button 
          aria-label="delete event">
          <mat-icon>delete_forever</mat-icon>
          Borrar Todo
        </button> -->
        <span>Agregar Instalación</span>
        <button 
          (click)="openAddEventDialog()" 
          class="new-event-btn" 
          mat-mini-fab 
          aria-label="add event">
          <mat-icon>add_circle_outline</mat-icon>
        </button>
      </div>
    </div>
    

  </div>
