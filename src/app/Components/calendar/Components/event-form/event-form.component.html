<div class="form-dialog">

  <div class="form-header">
    <h2 class="form-title"
      [ngStyle]="{'content': model.isEdit ? language.eventFormTexts['headerTitleEdit'] : language.eventFormTexts['headerTitleAdd']}">
      {{modalTitle}}</h2>
    <button class="close-btn" mat-icon-button aria-label="close" (click)="closeDialog()">
      <mat-icon>close</mat-icon>
    </button>
  </div>



  

  <div class="form-body">
    <form id="eventForm" (submit)="onSubmit()" [formGroup]="form" enctype='multipart/form-data'>
      <div class="fields">




        <mat-form-field>
          <mat-label>Distritos</mat-label>
          <mat-select formControlName="{{formTextsKeys.distritos}}">
            <mat-option *ngFor="let distrito of distritos" [value]="distrito">{{ distrito }}</mat-option>
          </mat-select>
        </mat-form-field>





        <!-- description -->
        <mat-form-field appearance="outline">
          <mat-label>Días hábiles medición</mat-label>
          <input matInput formControlName="{{formTextsKeys.DiasHabiles}}" maxlength="100" class="diasHabiles">
          <mat-hint class="hint">{{ form.get(formTextsKeys.DiasHabiles)?.value.length }} / 200</mat-hint>
        </mat-form-field>




        <mat-form-field appearance="outline">
          <mat-label>Selected Date</mat-label>
          <input matInput type="date" formControlName="{{formTextsKeys.selectedDate}}">
        </mat-form-field>
        



        <ng-container>

          <!-- start date and time -->
          <div class=" date-container">

            <mat-form-field appearance="outline">
              <mat-label>{{language.eventFormTexts[formTextsKeys.StartDate]}}</mat-label>
              <input class="date-input" matInput type="date" formControlName="{{formTextsKeys.StartDate}}">
              <mat-error *ngIf="form.invalid">{{startDateError}}</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>{{language.eventFormTexts[formTextsKeys.StartTime]}}</mat-label>
              <input class="date-input" matInput type="time" formControlName="{{formTextsKeys.StartTime}}">
              <mat-error *ngIf="form.invalid">{{startTimeError}}</mat-error>

              <a (click)="openTimeDialog()" class="time-btn" matSuffix aria-label="set time">
                <mat-icon>schedule</mat-icon>
              </a>
            </mat-form-field>
          </div>






          <div class=" date-container">

            <mat-form-field appearance="outline">
              <mat-label>{{language.eventFormTexts[formTextsKeys.EndDate]}}</mat-label>
              <input class="date-input" matInput type="date" formControlName="{{formTextsKeys.EndDate}}">
              <mat-error *ngIf="form.invalid">{{endDateError}}</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>{{language.eventFormTexts[formTextsKeys.EndTime]}}</mat-label>
              <input class="date-input" matInput type="time" formControlName="{{formTextsKeys.EndTime}}">
              <mat-error *ngIf="form.invalid">{{endTimeError}}</mat-error>

              <a (click)="openTimeDialog(false)" class="time-btn" matSuffix aria-label="set time">
                <mat-icon>schedule</mat-icon>
              </a>
            </mat-form-field>

          </div>
        </ng-container>

      </div>

    </form>
  </div>

  <div class="form-footer">


    <button class="btn-save" mat-flat-button aria-label="close" [disabled]="form.invalid" form="eventForm"
      (click)="onSubmit()">
      <mat-icon>{{model.isEdit ? 'edit' : 'save'}}</mat-icon>
      {{ model.isEdit ? language.eventFormTexts[formTextsKeys.BtnEditText] :
      language.eventFormTexts[formTextsKeys.BtnSaveText]}}
    </button>

    <button class="btn-cancel" mat-flat-button aria-label="close" (click)="closeDialog()">
      <mat-icon>close</mat-icon>
      {{language.eventFormTexts[formTextsKeys.BtnCancelText]}}

    </button>
  </div>


</div>